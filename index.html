<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Punto de Hidratación CBA</title>

  <!-- Fuente -->
  <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Estilos -->
  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- ============================================================
     BLOQUE 1 — INFORMACIÓN GENERAL
============================================================== -->
<div id="step1" class="step active">
  <h1>Bloque 1 – Información general</h1>

  <label>Nombre / Número del punto</label>
  <input id="nombre" class="input" type="text">

  <label>Persona a cargo del relevamiento</label>
  <input id="persona" class="input" type="text">

  <label>Días</label>
  <input id="dias" class="input" type="text">

  <label>Horarios</label>
  <input id="horarios" class="input" type="text">

  <label>Metros cuadrados disponibles</label>
  <input id="m2" class="input" type="number">

  <p id="capacidadTexto" class="capacidad"></p>

  <label>Disponibilidad de servicio médico (107)</label>
  <div class="yesno-container">
    <button class="yesno" onclick="setDatoGeneral('medico','si',this)">Sí</button>
    <button class="yesno" onclick="setDatoGeneral('medico','no',this)">No</button>
  </div>

  <button class="next-btn" onclick="nextStep()">Siguiente ➜</button>
</div>

<!-- ============================================================
     BLOQUES 2 A 7 — FORMULARIOS
============================================================== -->
<div id="step2" class="step">
  <h1>Bloque 2 – Confort térmico</h1>
  <div id="form2"></div>
  <button class="back-btn" onclick="prevStep()">← Volver</button>
  <button class="next-btn" onclick="nextStep()">Siguiente ➜</button>
</div>

<div id="step3" class="step">
  <h1>Bloque 3 – Disposiciones edilicias</h1>
  <div id="form3"></div>
  <button class="back-btn" onclick="prevStep()">← Volver</button>
  <button class="next-btn" onclick="nextStep()">Siguiente ➜</button>
</div>

<div id="step4" class="step">
  <h1>Bloque 4 – Envolvente térmica</h1>
  <div id="form4"></div>
  <button class="back-btn" onclick="prevStep()">← Volver</button>
  <button class="next-btn" onclick="nextStep()">Siguiente ➜</button>
</div>

<div id="step5" class="step">
  <h1>Bloque 5 – Protecciones pasivas</h1>
  <div id="form5"></div>
  <button class="back-btn" onclick="prevStep()">← Volver</button>
  <button class="next-btn" onclick="nextStep()">Siguiente ➜</button>
</div>

<div id="step6" class="step">
  <h1>Bloque 6 – Diseño</h1>
  <div id="form6"></div>
  <button class="back-btn" onclick="prevStep()">← Volver</button>
  <button class="next-btn" onclick="nextStep()">Siguiente ➜</button>
</div>

<div id="step7" class="step">
  <h1>Bloque 7 – Servicios</h1>
  <div id="form7"></div>
  <button class="back-btn" onclick="prevStep()">← Volver</button>
  <button class="next-btn" onclick="calcular()">Calcular resultado</button>
</div>

<!-- ============================================================
     RESULTADO FINAL + FOTOS + OBSERVACIONES
============================================================== -->
<div id="step8" class="step">
  <h1>Resultado</h1>

  <div id="resultado"></div>

  <h3>Observaciones del relevador</h3>
  <textarea id="comentariosGlobales" class="input" style="min-height:120px;"></textarea>

  <h3>Registro fotográfico</h3>
  <input type="file" id="fotos" accept="image/*" multiple class="input">

  <div id="previewFotos"></div>

  <button class="next-btn" onclick="descargarPDF()">Descargar PDF</button>
  <button class="next-btn" onclick="location.reload()">Nueva evaluación</button>
</div>

<!-- ============================================================
     SCRIPT
============================================================== -->
<script src="app.js"></script>

<script>
/* ============================================================
   PREVISUALIZACIÓN DE FOTOS
=========================================================== */
document.getElementById("fotos").addEventListener("change", function () {
  const preview = document.getElementById("previewFotos");
  preview.innerHTML = "";

  Array.from(this.files).forEach(file => {
    const reader = new FileReader();
    reader.onload = e => {
      const img = document.createElement("img");
      img.src = e.target.result;
      img.style.maxWidth = "100%";
      img.style.marginBottom = "10px";
      preview.appendChild(img);
    };
    reader.readAsDataURL(file);
  });
});
</script>

</body>
</html>
